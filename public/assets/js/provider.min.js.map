{"version":3,"sources":["app.js","OrdersCtrl.js","ProfileCtrl.js","AlertCtrl.js","MenusCtrl.js","DishesCtrl.js","routes.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"provider.min.js","sourcesContent":["(function() {\n    'use strict';\n\n    angular.module('providerLunchApp', [\n        'ngRoute',\n        'ngResource',\n        //'ngAnimate',\n        'lunchDirectives',\n        'lunchFactories'\n    ]);\n\n})();\n\n","(function() {\n    'use strict';\n\n    angular\n        .module('providerLunchApp')\n        .controller('OrdersCtrl', OrdersCtrl);\n\n\n    function OrdersCtrl($scope){\n\n        var vm = this;\n\n        vm.page = 'orders';\n    }\n\n})();\n\n","(function() {\n    'use strict';\n\n    angular\n        .module('providerLunchApp')\n        .controller('ProfileCtrl', ProfileCtrl);\n\n\n    function ProfileCtrl($scope){\n\n        var vm = this;\n\n        vm.page = 'profile';\n    }\n\n})();\n\n","(function() {\n    'use strict';\n\n    angular\n        .module('providerLunchApp')\n        .controller('AlertCtrl', AlertCtrl);\n\n\n    function AlertCtrl(){\n\n        var vm = this;\n\n        vm.page = 'alert';\n\n    }\n\n})();\n\n","(function() {\n    'use strict';\n\n    angular\n        .module('providerLunchApp')\n        .controller('MenusCtrl', MenusCtrl);\n\n\n    function MenusCtrl($scope){\n\n        var vm = this;\n\n        vm.page = 'menus';\n    }\n\n})();\n\n","(function() {\n    'use strict';\n\n    angular\n        .module('providerLunchApp')\n        .controller('DishesCtrl', DishesCtrl);\n\n\n    DishesCtrl.$inject = ['$scope', 'dishes', 'categories'];\n\n    function DishesCtrl($scope, dishes, categories){\n        var vm = this;\n\n        vm.page = 'dishes';\n\n        vm.categories = [];\n        vm.dishes = [];\n\n        vm.filtered_dishes_by_cat = {\n            active: [],\n            inactive: []\n        };\n        vm.filtered_dishes = {\n            active: [],\n            inactive: []\n        };\n        vm.current_category = {\n            active: 'all',\n            inactive: 'all'\n        };\n        vm.current_pages = {\n            active: 1,\n            inactive: 1\n        };\n        vm.dishes_per_page     = 8;\n\n        vm.current_dish = [];\n        vm.single_dish_view = false;\n\n        vm.showCategory        = showCategory;\n        vm.categoryDishesCount = categoryDishesCount;\n\n        vm.showSingleDish      = showSingleDish;\n        vm.removeSingleDish    = removeSingleDish;\n        vm.restoreSingleDish   = restoreSingleDish;\n        vm.editSingleDish      = editSingleDish;\n        vm.hideSingleDish      = hideSingleDish;\n\n        getCategories();\n        getDishes();\n\n        //##################################################\n\n        function getCategories()\n        {\n            categories.getCategories().then(function(data)\n            {\n                vm.categories = data;\n            });\n        }\n\n        function getDishes()\n        {\n            dishes.getDishes().then(function(data)\n            {\n                vm.dishes = data;\n                filterDishes();\n            });\n        }\n\n        function showCategory(category_id, type)\n        {\n            vm.current_category[type] = category_id;\n            vm.current_pages[type] = 1;\n            filterDishes();\n        }\n\n        function getCategoryNameById(category_id)\n        {\n            var name = '';\n\n            angular.forEach(vm.categories, function(category)\n            {\n                if(category.id == category_id)\n                {\n                    name = category.name;\n                }\n            });\n\n            return name;\n        }\n\n        function categoryDishesCount(category_id, is_active)\n        {\n            var count = 0;\n\n            angular.forEach(vm.dishes, function(dish) {\n\n                if((dish.is_active == is_active) && ((category_id == 'all') || (dish.category_id == category_id)))\n                {\n                    count++;\n                }\n            });\n\n            return count;\n        }\n\n        function filterDishes()\n        {\n            vm.filtered_dishes = {\n                active: [],\n                inactive: []\n            };\n\n            vm.filtered_dishes_by_cat = {\n                active: [],\n                inactive: []\n            };\n\n            angular.forEach(vm.dishes, function(dish)\n            {\n                dish.category_name = getCategoryNameById(dish.category_id);\n\n                var type = (dish.is_active)? 'active' : 'inactive',\n                    in_current_category = (vm.current_category[type] == 'all' || dish.category_id == vm.current_category[type]);\n                if(in_current_category) {\n                    vm.filtered_dishes_by_cat[type].push(dish);\n                }\n            });\n            angular.forEach(vm.filtered_dishes_by_cat, function(dishes, type)\n            {\n                var current_page = vm.current_pages[type],\n                    begin = ((current_page - 1) * vm.dishes_per_page),\n                    end = begin + vm.dishes_per_page;\n                vm.filtered_dishes[type] = vm.filtered_dishes_by_cat[type].slice(begin, end);\n            });\n\n        }\n\n        $scope.$watch('vm.current_pages.active + vm.current_pages.inactive + vm.dishes_per_page', function(current, original) {\n            filterDishes();\n        });\n\n        //##################################################\n\n\n        function showSingleDish(dish)\n        {\n            vm.current_dish = dish;\n            vm.single_dish_view = true;\n        }\n\n        function removeSingleDish(dish)\n        {\n\n        }\n\n        function restoreSingleDish(dish)\n        {\n\n        }\n\n        function editSingleDish(dish)\n        {\n\n        }\n\n        function hideSingleDish()\n        {\n            vm.single_dish_view = false;\n        }\n\n    }\n\n})();\n\n","(function() {\n    'use strict';\n\n    angular\n        .module('providerLunchApp')\n        .config(config);\n\n    config.$inject = ['$routeProvider'];\n\n    function config($routeProvider) {\n        $routeProvider.\n            when('/', {\n                templateUrl: app_templates.provider.orders,\n                controller: 'OrdersCtrl',\n                controllerAs: 'vm'\n            }).\n            when('/profile', {\n                templateUrl: app_templates.provider.profile,\n                controller: 'ProfileCtrl',\n                controllerAs: 'vm'\n            }).\n            when('/alert', {\n                templateUrl: app_templates.provider.alert,\n                controller: 'AlertCtrl',\n                controllerAs: 'vm'\n            }).\n            when('/menus', {\n                templateUrl: app_templates.provider.menus,\n                controller: 'MenusCtrl',\n                controllerAs: 'vm'\n            }).\n            when('/dishes', {\n                templateUrl: app_templates.provider.dishes,\n                controller: 'DishesCtrl',\n                controllerAs: 'vm'\n            }).\n            otherwise({\n                redirectTo: '/'\n            });\n    }\n})();\n\n"],"sourceRoot":"/source/"}